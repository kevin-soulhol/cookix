{
  "version": 3,
  "sources": ["../../../app/components/BoxRecipe.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/components/BoxRecipe.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/components/BoxRecipe.tsx\");\n  import.meta.hot.lastModified = \"1743070262050.9224\";\n}\n// REMIX HMR END\n\nimport { Link, useFetcher, useLocation, useOutletContext } from \"@remix-run/react\";\nimport { useEffect, useState } from \"react\";\nexport default function BoxRecipe({\n  recipe\n}) {\n  _s();\n  const location = useLocation();\n  const {\n    isAuthenticated\n  } = useOutletContext() || {\n    isAuthenticated: false\n  };\n  const [isAddingToMenu, setIsAddingToMenu] = useState(false);\n  const [inFavorites, setInFavorites] = useState(recipe.isFavorite);\n  const [isAdded, setIsAdded] = useState(recipe.isInMenu);\n  const menuFetcher = useFetcher();\n  const favoriteFetcher = useFetcher();\n\n  // \u00C9tat pour d\u00E9tecter si on est en train de traiter une requ\u00EAte\n  const isAddingToMenuInProgress = menuFetcher.state === \"submitting\";\n  const isTogglingFavoriteInProgress = favoriteFetcher.state === \"submitting\";\n\n  // Gestion de l'ajout au menu\n  const handleAddToMenu = async () => {\n    setIsAddingToMenu(true);\n    menuFetcher.submit({\n      recipeId: recipe.id.toString()\n    }, {\n      method: \"post\",\n      action: \"/api/menu\"\n    });\n  };\n\n  // Gestion du basculement des favoris\n  const handleToggleFavorite = () => {\n    setInFavorites(!inFavorites);\n    favoriteFetcher.submit({\n      recipeId: recipe.id.toString(),\n      action: inFavorites ? \"remove\" : \"add\"\n    }, {\n      method: \"post\",\n      action: \"/api/favorites\"\n    });\n  };\n  useEffect(() => {\n    if (menuFetcher.state === \"idle\" && menuFetcher.data) {\n      setIsAdded(true);\n    }\n  }, [menuFetcher]);\n\n  // Lorsque la requ\u00EAte est termin\u00E9e, mettre \u00E0 jour les states\n  if (menuFetcher.state === \"idle\" && isAddingToMenu && isAddingToMenuInProgress) {\n    setIsAddingToMenu(false);\n  }\n  return <Link to={`/recettes/${recipe.id}`} className=\"text-rose-500 hover:text-rose-700 font-medium text-sm items-center\">\n            <article className=\"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:-translate-y-1 hover:shadow-lg flex flex-col h-full\">\n                {/* Image de la recette avec badge de difficult\u00E9 */}\n                <div className=\"relative\">\n                    {recipe.imageUrl ? <div className=\"h-48 bg-cover bg-center\" style={{\n          backgroundImage: `url(${recipe.imageUrl})`\n        }}>\n                            {recipe.difficulty && <span className=\"absolute top-4 right-4 bg-black bg-opacity-70 text-white text-xs font-semibold px-2 py-1 rounded\">\n                                    {recipe.difficulty}\n                                </span>}\n                        </div> : <div className=\"h-48 bg-gray-200 flex items-center justify-center\">\n                            <svg className=\"w-16 h-16 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                            </svg>\n                            {recipe.difficulty && <span className=\"absolute top-4 right-4 bg-black bg-opacity-70 text-white text-xs font-semibold px-2 py-1 rounded\">\n                                    {recipe.difficulty}\n                                </span>}\n                        </div>}\n\n                    {/* Bouton Favori en superposition sur l'image */}\n                    {isAuthenticated && <button onClick={handleToggleFavorite} disabled={isTogglingFavoriteInProgress} className=\"absolute top-4 left-4 bg-white bg-opacity-80 p-2 rounded-full shadow-md hover:bg-opacity-100 transition-all\" aria-label={inFavorites ? \"Retirer des favoris\" : \"Ajouter aux favoris\"}>\n                            {isTogglingFavoriteInProgress ? <svg className=\"w-5 h-5 animate-spin text-rose-500\" fill=\"none\" viewBox=\"0 0 24 24\">\n                                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                                </svg> : <svg className={`w-5 h-5 ${inFavorites ? 'text-rose-500 fill-current' : 'text-gray-500'}`} fill={inFavorites ? \"currentColor\" : \"none\"} stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\n                                </svg>}\n                        </button>}\n                </div>\n\n                {/* Contenu de la recette */}\n                <div className=\"p-5 flex flex-col flex-grow\">\n                    <h3 className=\"font-bold text-lg mb-2\">\n                        <Link to={`/recettes/${recipe.id}`} className=\"text-gray-900 hover:text-rose-500\">\n                            {recipe.title}\n                        </Link>\n                    </h3>\n\n                    <div className=\"flex items-center space-x-4 text-sm text-gray-500 mb-3\">\n                        {recipe.preparationTime && <span className=\"flex items-center\">\n                                <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                </svg>\n                                {recipe.preparationTime} min\n                            </span>}\n\n                        {recipe.cookingTime && <span className=\"flex items-center\">\n                                <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8 7V3m8 4V3M3 11h18M5 21h14a2 2 0 002-2v-7a2 2 0 00-2-2H5a2 2 0 00-2 2v7a2 2 0 002 2z\" />\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 14l2 2 4-4\" />\n                                </svg>\n                                {recipe.cookingTime} min\n                            </span>}\n\n                        {recipe.note && <span className=\"flex items-center\">\n                                <svg className=\"w-4 h-4 mr-1 text-yellow-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\n                                </svg>\n                                {recipe.note}\n                            </span>}\n                    </div>\n\n                    {recipe.description && <p className=\"text-gray-600 text-sm mb-4 line-clamp-3 flex-grow\">\n                            {recipe.description}\n                        </p>}\n\n                    <div className=\"mt-auto space-y-3\">\n                        {/* Bouton ajouter au menu */}\n                        {!isAdded && isAuthenticated && location.pathname !== '/menu' && <div className=\"w-full\">\n                                <button onClick={handleAddToMenu} disabled={isAddingToMenuInProgress} className=\"w-full flex items-center justify-center px-3 py-2 border border-teal-500 text-teal-500 rounded-md hover:bg-teal-50 transition-colors text-sm font-medium\">\n                                    {isAddingToMenuInProgress ? <>\n                                            <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-teal-500\" fill=\"none\" viewBox=\"0 0 24 24\">\n                                                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                                                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                                            </svg>\n                                            Ajout en cours...\n                                        </> : <>\n                                            <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                                            </svg>\n                                            Ajouter au menu\n                                        </>}\n                                </button>\n                            </div>}\n                    </div>\n                </div>\n            </article>\n        </Link>;\n}\n_s(BoxRecipe, \"13BPLr+QWMJbid9dUnsCskLU+5Q=\", false, function () {\n  return [useLocation, useOutletContext, useFetcher, useFetcher];\n});\n_c = BoxRecipe;\nvar _c;\n$RefreshReg$(_c, \"BoxRecipe\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": ["import_react"]
}
